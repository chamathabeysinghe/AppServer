<div class="row" id="main-app">
    <div class="panel panel-white">
        <div class="panel-heading clearfix">
            <h4 class="panel-title">Basic example</h4>
        </div>
        <div class="panel-body">
            <div class="table-responsive">
                <div id="example_wrapper" class="dataTables_wrapper">

                    <table id="example" class="display table dataTable" style="width: 100%;" role="grid"
                           aria-describedby="example_info">
                        <thead>
                        <tr role="row">
                            <th class="sorting_asc" tabindex="0" aria-controls="example" rowspan="1"
                                colspan="1" aria-sort="ascending"
                                aria-label="Name: activate to sort column descending"
                                style="width: 198px;">Name
                            </th>
                            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1"
                                colspan="1" aria-label="Email: activate to sort column ascending"
                                style="width: 291px;">Email
                            </th>
                            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1"
                                colspan="1" aria-label="Phone: activate to sort column ascending"
                                style="width: 142px;">Phone
                            </th>
                            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1"
                                colspan="1" aria-label="Address: activate to sort column ascending"
                                style="width: 48px;">Address
                            </th>
                            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1"
                                colspan="1" aria-label="Status: activate to sort column ascending"
                                style="width: 126px;">Status
                            </th>
                        </tr>
                        </thead>
                        <tfoot>
                        <tr>
                            <th rowspan="1" colspan="1">Name</th>
                            <th rowspan="1" colspan="1">Email</th>
                            <th rowspan="1" colspan="1">Phone</th>
                            <th rowspan="1" colspan="1">Address</th>
                            <th rowspan="1" colspan="1">Status</th>
                        </tr>
                        </tfoot>
                        <tbody>
                        <tr role="row" class="odd" v-for="school in schools">
                            <td class="sorting_1"> {{school.name}}</td>
                            <td>{{school.email}}</td>
                            <td>{{school.phone}}</td>
                            <td>{{school.address}}</td>
                            <td>{{school.enable == true ? 'Enabled':'Disabled'}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('#example').dataTable();
        $('.date-picker').datepicker({
            orientation: "top auto",
            autoclose: true
        });
    });
    var instance = axios.create({
        headers: {'x-access-token': localStorage.getItem('token')}
    });
    var app = new Vue({
        el: '#main-app',
        data: {
            schools: []
        },
        methods: {
            updateTable: function () {
                instance.get('/users/find-school').then(function (response) {
                    app.schools = response.data;
                });
            }
        },
        beforeMount: function() {
            this.updateTable();
        }
    })
</script>
